<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Track Scans — QR1.tech</title>
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>
  <div class="container">
    <nav class="nav">
      <a class="logo" href="index.html">QR1.tech</a>
      <div class="links">
        <a href="index.html">Home</a>
        <a href="examples.html">Examples</a>
        <a href="analytics.html">Track Scans</a>
        <a href="policies.html">Pricing & Policies</a>
      </div>
    </nav>

    <section class="panel">
      <h2>Scan Analytics</h2>
      <p class="small">Charts are demo-only. Replace with live data later.</p>
      <div class="grid cols-3" style="margin-top:12px">
        <canvas id="line" height="160" class="card"></canvas>
        <canvas id="bar" height="160" class="card"></canvas>
        <div class="card">
          <h3 style="margin-top:0">Geo preview</h3>
          <div id="geo" class="target" style="height:120px">Map placeholder</div>
        </div>
      </div>

      <h3 style="margin-top:24px">Recent Scans</h3>
      <table class="table">
        <thead><tr><th>Time</th><th>City</th><th>User Agent</th></tr></thead>
        <tbody id="log">
          <tr><td>—</td><td>—</td><td>—</td></tr>
        </tbody>
      </table>
    </section>

    <footer class="footer">Lifetime membership is ad‑free.</footer>
  </div>

  <script>
    function lineChart(ctx, data){
      const c = ctx.canvas, w=c.width, h=c.height; const d=data;
      const max=Math.max(...d), min=Math.min(...d), pad=20;
      const xstep=(w-2*pad)/(d.length-1);
      ctx.clearRect(0,0,w,h); ctx.strokeStyle="#2563EB"; ctx.lineWidth=2;
      ctx.beginPath();
      d.forEach((v,i)=>{
        const x=pad+i*xstep;
        const y=h-pad-((v-min)/(max-min||1))*(h-2*pad);
        i?ctx.lineTo(x,y):ctx.moveTo(x,y);
      });
      ctx.stroke();
    }
    function barChart(ctx, labels, data){
      const c=ctx.canvas,w=c.width,h=c.height,pad=24;
      const bw=(w-2*pad)/data.length - 10;
      const max=Math.max(...data);
      ctx.clearRect(0,0,w,h);
      data.forEach((v,i)=>{
        const x=pad+i*(bw+10);
        const bh=((v)/(max||1))*(h-2*pad);
        ctx.fillStyle="#3B82F6";
        ctx.fillRect(x, h-pad-bh, bw, bh);
      });
    }
    window.addEventListener("DOMContentLoaded",()=>{
      const l = document.getElementById("line").getContext("2d");
      const b = document.getElementById("bar").getContext("2d");
      lineChart(l, [2,4,3,6,8,7,10]);
      barChart(b, ["PTA","JHB","CPT","DBN"], [12,9,7,5]);
      const log=document.getElementById("log");
      log.innerHTML="<tr><td>10:41</td><td>Pretoria</td><td>iPhone Safari</td></tr><tr><td>09:15</td><td>Johannesburg</td><td>Chrome</td></tr>";
    });
  </script>
</body>
</html>
